
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>3. Tutorial &#8212; pBEAM 0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/nrel.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Module Documentation" href="documentation.html" />
    <link rel="prev" title="2. Installation" href="installation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="documentation.html" title="4. Module Documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="2. Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pBEAM 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial">
<span id="tutorial-label"></span><h1>3. Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>Two examples are included in this section.  The first example provides the sectional properties and assumes a linear variation between the sections (see matching <a class="reference internal" href="documentation.html#beam-linear-label"><span class="std std-ref">constructor</span></a>).  The example simulates a blade for the NREL 5-MW reference model.  The second example uses the convenience constructor for a beam with cylindrical shell sections (see matching <a class="reference internal" href="documentation.html#beam-tower-label"><span class="std std-ref">constructor</span></a>).  The example simulates the tower for the NREL 5-MW refernece model.  A third <a class="reference internal" href="documentation.html#beam-tower-label"><span class="std std-ref">constructor</span></a> is available for more advanced usage and allows for arbitrary polynomial variation in section properties.  This advanced constructor is not demonstrated in these examples, but details are available in the :ref:<a href="#id1"><span class="problematic" id="id2">`</span></a>documentation &lt;documentation-label&gt;.</p>
<div class="section" id="linear-variation">
<h2>3.1. Linear Variation<a class="headerlink" href="#linear-variation" title="Permalink to this headline">¶</a></h2>
<p>This example simulates a rotor blade from the NREL 5-MW reference model in pBEAM.  First, the relevant modules are imported.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">import</span> <span class="nn">_pBEAM</span>

</pre></div>
</div>
<p>Next, we define the stiffness and inertial properties.  The stiffness and inertial properties can be computed from the structural layout of the blade using a code like <a class="reference external" href="http://wind.nrel.gov/designcodes/preprocessors/precomp/">PreComp</a>.  Section properties are defined using the <a class="reference internal" href="documentation.html#section-data-linear-label"><span class="std std-ref">SectionData</span></a> class.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># stiffness / inertial properties</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.501</span><span class="p">,</span> <span class="mf">1.803</span><span class="p">,</span> <span class="mf">1.902</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">2.105</span><span class="p">,</span> <span class="mf">2.203</span><span class="p">,</span> <span class="mf">2.302</span><span class="p">,</span> <span class="mf">2.868</span><span class="p">,</span> <span class="mf">3.003</span><span class="p">,</span> <span class="mf">3.102</span><span class="p">,</span>
              <span class="mf">5.607</span><span class="p">,</span> <span class="mf">7.005</span><span class="p">,</span> <span class="mf">8.34</span><span class="p">,</span> <span class="mf">10.51</span><span class="p">,</span> <span class="mf">11.76</span><span class="p">,</span> <span class="mf">13.51</span><span class="p">,</span> <span class="mf">15.86</span><span class="p">,</span> <span class="mf">18.52</span><span class="p">,</span> <span class="mf">19.97</span><span class="p">,</span>
              <span class="mf">22.02</span><span class="p">,</span> <span class="mf">24.07</span><span class="p">,</span> <span class="mf">26.12</span><span class="p">,</span> <span class="mf">28.17</span><span class="p">,</span> <span class="mf">32.28</span><span class="p">,</span> <span class="mf">33.53</span><span class="p">,</span> <span class="mf">36.39</span><span class="p">,</span> <span class="mf">38.53</span><span class="p">,</span> <span class="mf">40.49</span><span class="p">,</span>
              <span class="mf">42.54</span><span class="p">,</span> <span class="mf">43.54</span><span class="p">,</span> <span class="mf">44.59</span><span class="p">,</span> <span class="mf">46.54</span><span class="p">,</span> <span class="mf">48.7</span><span class="p">,</span> <span class="mf">52.8</span><span class="p">,</span> <span class="mf">56.22</span><span class="p">,</span> <span class="mf">58.95</span><span class="p">,</span> <span class="mf">61.69</span><span class="p">,</span> <span class="mf">63.06</span><span class="p">])</span>
<span class="n">EA</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.626e+10</span><span class="p">,</span> <span class="mf">1.65e+10</span><span class="p">,</span> <span class="mf">1.677e+10</span><span class="p">,</span> <span class="mf">1.685e+10</span><span class="p">,</span> <span class="mf">1.694e+10</span><span class="p">,</span> <span class="mf">1.702e+10</span><span class="p">,</span>
               <span class="mf">1.625e+10</span><span class="p">,</span> <span class="mf">1.208e+10</span><span class="p">,</span> <span class="mf">1.212e+10</span><span class="p">,</span> <span class="mf">1.23e+10</span><span class="p">,</span> <span class="mf">1.228e+10</span><span class="p">,</span> <span class="mf">1.199e+10</span><span class="p">,</span>
               <span class="mf">1.16e+10</span><span class="p">,</span> <span class="mf">8.27e+09</span><span class="p">,</span> <span class="mf">8.035e+09</span><span class="p">,</span> <span class="mf">8.42e+09</span><span class="p">,</span> <span class="mf">8.754e+09</span><span class="p">,</span> <span class="mf">8.972e+09</span><span class="p">,</span>
               <span class="mf">9.058e+09</span><span class="p">,</span> <span class="mf">9.128e+09</span><span class="p">,</span> <span class="mf">9.122e+09</span><span class="p">,</span> <span class="mf">8.947e+09</span><span class="p">,</span> <span class="mf">8.747e+09</span><span class="p">,</span> <span class="mf">8.295e+09</span><span class="p">,</span>
               <span class="mf">8.088e+09</span><span class="p">,</span> <span class="mf">7.532e+09</span><span class="p">,</span> <span class="mf">7.09e+09</span><span class="p">,</span> <span class="mf">6.645e+09</span><span class="p">,</span> <span class="mf">6.079e+09</span><span class="p">,</span> <span class="mf">5.809e+09</span><span class="p">,</span>
               <span class="mf">5.515e+09</span><span class="p">,</span> <span class="mf">4.955e+09</span><span class="p">,</span> <span class="mf">4.353e+09</span><span class="p">,</span> <span class="mf">3.186e+09</span><span class="p">,</span> <span class="mf">2.221e+09</span><span class="p">,</span> <span class="mf">1.503e+09</span><span class="p">,</span>
               <span class="mf">9.426e+08</span><span class="p">,</span> <span class="mf">7.459e+08</span><span class="p">])</span>
<span class="n">EI11</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.352e+10</span><span class="p">,</span> <span class="mf">2.352e+10</span><span class="p">,</span> <span class="mf">2.491e+10</span><span class="p">,</span> <span class="mf">2.491e+10</span><span class="p">,</span> <span class="mf">2.491e+10</span><span class="p">,</span> <span class="mf">2.491e+10</span><span class="p">,</span>
                 <span class="mf">2.372e+10</span><span class="p">,</span> <span class="mf">1.659e+10</span><span class="p">,</span> <span class="mf">1.751e+10</span><span class="p">,</span> <span class="mf">1.821e+10</span><span class="p">,</span> <span class="mf">1.456e+10</span><span class="p">,</span> <span class="mf">1.336e+10</span><span class="p">,</span>
                 <span class="mf">1.065e+10</span><span class="p">,</span> <span class="mf">4.918e+09</span><span class="p">,</span> <span class="mf">4.769e+09</span><span class="p">,</span> <span class="mf">4.331e+09</span><span class="p">,</span> <span class="mf">4.044e+09</span><span class="p">,</span> <span class="mf">3.423e+09</span><span class="p">,</span>
                 <span class="mf">3.167e+09</span><span class="p">,</span> <span class="mf">2.873e+09</span><span class="p">,</span> <span class="mf">2.572e+09</span><span class="p">,</span> <span class="mf">1.969e+09</span><span class="p">,</span> <span class="mf">1.58e+09</span><span class="p">,</span> <span class="mf">1.296e+09</span><span class="p">,</span>
                 <span class="mf">1.101e+09</span><span class="p">,</span> <span class="mf">7.37e+08</span><span class="p">,</span> <span class="mf">6.386e+08</span><span class="p">,</span> <span class="mf">5.837e+08</span><span class="p">,</span> <span class="mf">4.358e+08</span><span class="p">,</span> <span class="mf">3.622e+08</span><span class="p">,</span>
                 <span class="mf">3.096e+08</span><span class="p">,</span> <span class="mf">2.541e+08</span><span class="p">,</span> <span class="mf">2.034e+08</span><span class="p">,</span> <span class="mf">1.22e+08</span><span class="p">,</span> <span class="mf">7.101e+07</span><span class="p">,</span> <span class="mf">3.817e+07</span><span class="p">,</span>
                 <span class="mf">7.727e+06</span><span class="p">,</span> <span class="mf">3.664e+06</span><span class="p">])</span>
<span class="n">EI22</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.307e+10</span><span class="p">,</span> <span class="mf">2.307e+10</span><span class="p">,</span> <span class="mf">2.328e+10</span><span class="p">,</span> <span class="mf">2.328e+10</span><span class="p">,</span> <span class="mf">2.328e+10</span><span class="p">,</span> <span class="mf">2.328e+10</span><span class="p">,</span>
                 <span class="mf">2.217e+10</span><span class="p">,</span> <span class="mf">1.555e+10</span><span class="p">,</span> <span class="mf">1.524e+10</span><span class="p">,</span> <span class="mf">1.495e+10</span><span class="p">,</span> <span class="mf">1.848e+10</span><span class="p">,</span> <span class="mf">1.69e+10</span><span class="p">,</span>
                 <span class="mf">1.342e+10</span><span class="p">,</span> <span class="mf">6.219e+09</span><span class="p">,</span> <span class="mf">5.231e+09</span><span class="p">,</span> <span class="mf">5.255e+09</span><span class="p">,</span> <span class="mf">5.286e+09</span><span class="p">,</span> <span class="mf">4.943e+09</span><span class="p">,</span>
                 <span class="mf">4.699e+09</span><span class="p">,</span> <span class="mf">4.421e+09</span><span class="p">,</span> <span class="mf">4.142e+09</span><span class="p">,</span> <span class="mf">3.674e+09</span><span class="p">,</span> <span class="mf">3.241e+09</span><span class="p">,</span> <span class="mf">2.603e+09</span><span class="p">,</span>
                 <span class="mf">2.397e+09</span><span class="p">,</span> <span class="mf">1.995e+09</span><span class="p">,</span> <span class="mf">1.756e+09</span><span class="p">,</span> <span class="mf">1.558e+09</span><span class="p">,</span> <span class="mf">1.292e+09</span><span class="p">,</span> <span class="mf">1.215e+09</span><span class="p">,</span>
                 <span class="mf">1.107e+09</span><span class="p">,</span> <span class="mf">9.199e+08</span><span class="p">,</span> <span class="mf">7.931e+08</span><span class="p">,</span> <span class="mf">5.797e+08</span><span class="p">,</span> <span class="mf">4.296e+08</span><span class="p">,</span> <span class="mf">3.009e+08</span><span class="p">,</span>
                 <span class="mf">9.361e+07</span><span class="p">,</span> <span class="mf">4.69e+07</span><span class="p">])</span>
<span class="n">GJ</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.079e+10</span><span class="p">,</span> <span class="mf">1.128e+10</span><span class="p">,</span> <span class="mf">1.182e+10</span><span class="p">,</span> <span class="mf">1.199e+10</span><span class="p">,</span> <span class="mf">1.217e+10</span><span class="p">,</span> <span class="mf">1.234e+10</span><span class="p">,</span>
               <span class="mf">1.192e+10</span><span class="p">,</span> <span class="mf">8.915e+09</span><span class="p">,</span> <span class="mf">9.135e+09</span><span class="p">,</span> <span class="mf">9.261e+09</span><span class="p">,</span> <span class="mf">7.303e+09</span><span class="p">,</span> <span class="mf">4.995e+09</span><span class="p">,</span>
               <span class="mf">2.821e+09</span><span class="p">,</span> <span class="mf">5.891e+08</span><span class="p">,</span> <span class="mf">4.595e+08</span><span class="p">,</span> <span class="mf">4.022e+08</span><span class="p">,</span> <span class="mf">3.556e+08</span><span class="p">,</span> <span class="mf">2.913e+08</span><span class="p">,</span>
               <span class="mf">2.697e+08</span><span class="p">,</span> <span class="mf">2.414e+08</span><span class="p">,</span> <span class="mf">2.157e+08</span><span class="p">,</span> <span class="mf">1.689e+08</span><span class="p">,</span> <span class="mf">1.415e+08</span><span class="p">,</span> <span class="mf">1.191e+08</span><span class="p">,</span>
               <span class="mf">1.019e+08</span><span class="p">,</span> <span class="mf">7.086e+07</span><span class="p">,</span> <span class="mf">6.037e+07</span><span class="p">,</span> <span class="mf">5.437e+07</span><span class="p">,</span> <span class="mf">4.033e+07</span><span class="p">,</span> <span class="mf">3.455e+07</span><span class="p">,</span>
               <span class="mf">3.002e+07</span><span class="p">,</span> <span class="mf">2.53e+07</span><span class="p">,</span> <span class="mf">2.128e+07</span><span class="p">,</span> <span class="mf">1.433e+07</span><span class="p">,</span> <span class="mf">9.588e+06</span><span class="p">,</span> <span class="mf">6.455e+06</span><span class="p">,</span>
               <span class="mf">4.335e+06</span><span class="p">,</span> <span class="mf">3.017e+06</span><span class="p">])</span>
<span class="n">rhoA</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1086</span><span class="p">,</span> <span class="mi">1102</span><span class="p">,</span> <span class="mi">1121</span><span class="p">,</span> <span class="mi">1126</span><span class="p">,</span> <span class="mi">1132</span><span class="p">,</span> <span class="mi">1137</span><span class="p">,</span> <span class="mi">1086</span><span class="p">,</span> <span class="mf">878.6</span><span class="p">,</span> <span class="mf">891.2</span><span class="p">,</span> <span class="mf">896.1</span><span class="p">,</span>
                 <span class="mf">730.2</span><span class="p">,</span> <span class="mf">608.9</span><span class="p">,</span> <span class="mf">559.4</span><span class="p">,</span> <span class="mf">337.1</span><span class="p">,</span> <span class="mf">332.3</span><span class="p">,</span> <span class="mf">333.3</span><span class="p">,</span> <span class="mf">331.2</span><span class="p">,</span> <span class="mf">324.2</span><span class="p">,</span> <span class="mf">320.7</span><span class="p">,</span>
                 <span class="mi">315</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mf">271.6</span><span class="p">,</span> <span class="mf">261.2</span><span class="p">,</span> <span class="mf">244.8</span><span class="p">,</span> <span class="mi">237</span><span class="p">,</span> <span class="mf">218.2</span><span class="p">,</span> <span class="mf">206.2</span><span class="p">,</span> <span class="mf">194.8</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span>
                 <span class="mi">151</span><span class="p">,</span> <span class="mf">144.5</span><span class="p">,</span> <span class="mf">133.1</span><span class="p">,</span> <span class="mf">122.1</span><span class="p">,</span> <span class="mf">100.6</span><span class="p">,</span> <span class="mf">82.32</span><span class="p">,</span> <span class="mf">67.6</span><span class="p">,</span> <span class="mf">46.81</span><span class="p">,</span> <span class="mf">31.18</span><span class="p">])</span>
<span class="n">rhoJ</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2778</span><span class="p">,</span> <span class="mi">2905</span><span class="p">,</span> <span class="mi">3048</span><span class="p">,</span> <span class="mi">3092</span><span class="p">,</span> <span class="mi">3139</span><span class="p">,</span> <span class="mi">3184</span><span class="p">,</span> <span class="mi">3075</span><span class="p">,</span> <span class="mi">2415</span><span class="p">,</span> <span class="mi">2532</span><span class="p">,</span> <span class="mi">2566</span><span class="p">,</span>
                 <span class="mi">2119</span><span class="p">,</span> <span class="mi">1595</span><span class="p">,</span> <span class="mi">1255</span><span class="p">,</span> <span class="mf">576.9</span><span class="p">,</span> <span class="mi">558</span><span class="p">,</span> <span class="mf">554.2</span><span class="p">,</span> <span class="mi">534</span><span class="p">,</span> <span class="mf">488.8</span><span class="p">,</span> <span class="mf">467.5</span><span class="p">,</span> <span class="mf">436.7</span><span class="p">,</span>
                 <span class="mf">404.6</span><span class="p">,</span> <span class="mf">331.1</span><span class="p">,</span> <span class="mf">295.2</span><span class="p">,</span> <span class="mf">243.2</span><span class="p">,</span> <span class="mf">222.8</span><span class="p">,</span> <span class="mf">180.2</span><span class="p">,</span> <span class="mf">155.6</span><span class="p">,</span> <span class="mf">135.1</span><span class="p">,</span> <span class="mf">92.91</span><span class="p">,</span>
                 <span class="mf">85.2</span><span class="p">,</span> <span class="mf">76.85</span><span class="p">,</span> <span class="mf">63.57</span><span class="p">,</span> <span class="mf">52.86</span><span class="p">,</span> <span class="mf">35.45</span><span class="p">,</span> <span class="mf">23.82</span><span class="p">,</span> <span class="mf">16.32</span><span class="p">,</span> <span class="mf">8.66</span><span class="p">,</span> <span class="mf">6.038</span><span class="p">])</span>


<span class="c1"># number of sections</span>
<span class="n">nsec</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

<span class="n">p_section</span> <span class="o">=</span> <span class="n">_pBEAM</span><span class="o">.</span><span class="n">SectionData</span><span class="p">(</span><span class="n">nsec</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">EA</span><span class="p">,</span> <span class="n">EI11</span><span class="p">,</span> <span class="n">EI22</span><span class="p">,</span> <span class="n">GJ</span><span class="p">,</span> <span class="n">rhoA</span><span class="p">,</span> <span class="n">rhoJ</span><span class="p">)</span>
</pre></div>
</div>
<p>Distributed loads can be computed from an aerodynamics code like CCBlade.  This example includes only distributed loads, which are defined in <a class="reference internal" href="documentation.html#loads-distributed-label"><span class="std std-ref">Loads</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># distributed loads</span>

<span class="n">P1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">106.8</span><span class="p">,</span> <span class="mf">487.3</span><span class="p">,</span> <span class="mf">604.7</span><span class="p">,</span> <span class="mf">715.4</span><span class="p">,</span> <span class="mf">826.2</span><span class="p">,</span> <span class="mf">923.1</span><span class="p">,</span> <span class="mi">1007</span><span class="p">,</span> <span class="mi">1299</span><span class="p">,</span> <span class="mi">1326</span><span class="p">,</span>
               <span class="mi">1343</span><span class="p">,</span> <span class="mi">1440</span><span class="p">,</span> <span class="mi">1337</span><span class="p">,</span> <span class="mi">1108</span><span class="p">,</span> <span class="o">-</span><span class="mi">1252</span><span class="p">,</span> <span class="o">-</span><span class="mi">2185</span><span class="p">,</span> <span class="o">-</span><span class="mi">2017</span><span class="p">,</span> <span class="o">-</span><span class="mi">1736</span><span class="p">,</span> <span class="o">-</span><span class="mi">1727</span><span class="p">,</span>
               <span class="o">-</span><span class="mi">1718</span><span class="p">,</span> <span class="o">-</span><span class="mi">1698</span><span class="p">,</span> <span class="o">-</span><span class="mi">1665</span><span class="p">,</span> <span class="o">-</span><span class="mi">1419</span><span class="p">,</span> <span class="o">-</span><span class="mi">1131</span><span class="p">,</span> <span class="o">-</span><span class="mi">1051</span><span class="p">,</span> <span class="o">-</span><span class="mi">937</span><span class="p">,</span> <span class="o">-</span><span class="mf">673.4</span><span class="p">,</span>
               <span class="o">-</span><span class="mf">643.8</span><span class="p">,</span> <span class="o">-</span><span class="mi">617</span><span class="p">,</span> <span class="o">-</span><span class="mf">553.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">524.2</span><span class="p">,</span> <span class="o">-</span><span class="mf">504.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">484.4</span><span class="p">,</span> <span class="o">-</span><span class="mf">462.8</span><span class="p">,</span>
               <span class="o">-</span><span class="mi">417</span><span class="p">,</span> <span class="o">-</span><span class="mf">374.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">336.6</span><span class="p">,</span> <span class="o">-</span><span class="mf">295.3</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.01844</span><span class="p">])</span>
<span class="n">P2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">452.4</span><span class="p">,</span> <span class="mi">2064</span><span class="p">,</span> <span class="mi">2561</span><span class="p">,</span> <span class="mi">3030</span><span class="p">,</span> <span class="mi">3499</span><span class="p">,</span> <span class="mi">3909</span><span class="p">,</span> <span class="mi">4263</span><span class="p">,</span> <span class="mi">5499</span><span class="p">,</span> <span class="mi">5612</span><span class="p">,</span>
               <span class="mi">5686</span><span class="p">,</span> <span class="mi">6098</span><span class="p">,</span> <span class="mi">5291</span><span class="p">,</span> <span class="mi">4690</span><span class="p">,</span> <span class="mf">1.938e+04</span><span class="p">,</span> <span class="mf">2.563e+04</span><span class="p">,</span> <span class="mf">2.492e+04</span><span class="p">,</span>
               <span class="mf">2.387e+04</span><span class="p">,</span> <span class="mf">2.346e+04</span><span class="p">,</span> <span class="mf">2.308e+04</span><span class="p">,</span> <span class="mf">2.202e+04</span><span class="p">,</span> <span class="mf">2.097e+04</span><span class="p">,</span>
               <span class="mf">2.021e+04</span><span class="p">,</span> <span class="mf">1.959e+04</span><span class="p">,</span> <span class="mf">1.865e+04</span><span class="p">,</span> <span class="mf">1.844e+04</span><span class="p">,</span> <span class="mf">1.796e+04</span><span class="p">,</span>
               <span class="mf">1.734e+04</span><span class="p">,</span> <span class="mf">1.668e+04</span><span class="p">,</span> <span class="mf">1.592e+04</span><span class="p">,</span> <span class="mf">1.556e+04</span><span class="p">,</span> <span class="mf">1.518e+04</span><span class="p">,</span>
               <span class="mf">1.452e+04</span><span class="p">,</span> <span class="mf">1.379e+04</span><span class="p">,</span> <span class="mf">1.23e+04</span><span class="p">,</span> <span class="mf">1.096e+04</span><span class="p">,</span> <span class="mi">9802</span><span class="p">,</span> <span class="mi">8552</span><span class="p">,</span>
               <span class="mf">13.34</span><span class="p">])</span>
<span class="n">P3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">1.065e+04</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.081e+04</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.098e+04</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.104e+04</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.109e+04</span><span class="p">,</span>
               <span class="o">-</span><span class="mf">1.114e+04</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.064e+04</span><span class="p">,</span> <span class="o">-</span><span class="mi">8611</span><span class="p">,</span> <span class="o">-</span><span class="mi">8734</span><span class="p">,</span> <span class="o">-</span><span class="mi">8782</span><span class="p">,</span> <span class="o">-</span><span class="mi">7156</span><span class="p">,</span> <span class="o">-</span><span class="mi">5967</span><span class="p">,</span>
               <span class="o">-</span><span class="mi">5482</span><span class="p">,</span> <span class="o">-</span><span class="mi">3303</span><span class="p">,</span> <span class="o">-</span><span class="mi">3256</span><span class="p">,</span> <span class="o">-</span><span class="mi">3267</span><span class="p">,</span> <span class="o">-</span><span class="mi">3246</span><span class="p">,</span> <span class="o">-</span><span class="mi">3177</span><span class="p">,</span> <span class="o">-</span><span class="mi">3143</span><span class="p">,</span> <span class="o">-</span><span class="mi">3087</span><span class="p">,</span>
               <span class="o">-</span><span class="mi">3019</span><span class="p">,</span> <span class="o">-</span><span class="mi">2662</span><span class="p">,</span> <span class="o">-</span><span class="mi">2560</span><span class="p">,</span> <span class="o">-</span><span class="mi">2399</span><span class="p">,</span> <span class="o">-</span><span class="mi">2323</span><span class="p">,</span> <span class="o">-</span><span class="mi">2138</span><span class="p">,</span> <span class="o">-</span><span class="mi">2021</span><span class="p">,</span> <span class="o">-</span><span class="mi">1909</span><span class="p">,</span>
               <span class="o">-</span><span class="mi">1539</span><span class="p">,</span> <span class="o">-</span><span class="mi">1480</span><span class="p">,</span> <span class="o">-</span><span class="mi">1416</span><span class="p">,</span> <span class="o">-</span><span class="mi">1305</span><span class="p">,</span> <span class="o">-</span><span class="mi">1197</span><span class="p">,</span> <span class="o">-</span><span class="mf">985.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">806.8</span><span class="p">,</span> <span class="o">-</span><span class="mf">662.5</span><span class="p">,</span>
               <span class="o">-</span><span class="mf">458.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">305.5</span><span class="p">])</span>



<span class="n">p_loads</span> <span class="o">=</span> <span class="n">_pBEAM</span><span class="o">.</span><span class="n">Loads</span><span class="p">(</span><span class="n">nsec</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="n">P3</span><span class="p">)</span>  <span class="c1"># only distributed loads</span>
</pre></div>
</div>
<p>The tip/base data is defined with a free end in <a class="reference internal" href="documentation.html#tip-label"><span class="std std-ref">TipData</span></a> and a rigid base for <a class="reference internal" href="documentation.html#base-label"><span class="std std-ref">BaseData</span></a>.  The blade object is then assembled using the <a class="reference internal" href="documentation.html#beam-label"><span class="std std-ref">Beam</span></a> constructor that assumes linear variation in properties between sections.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># tip/base data</span>
<span class="n">p_tip</span> <span class="o">=</span> <span class="n">_pBEAM</span><span class="o">.</span><span class="n">TipData</span><span class="p">()</span>  <span class="c1"># no tip mass</span>
<span class="n">k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span>
              <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)])</span>
<span class="n">p_base</span> <span class="o">=</span> <span class="n">_pBEAM</span><span class="o">.</span><span class="n">BaseData</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">))</span>  <span class="c1"># rigid base</span>

<span class="c1"># create blade object</span>
<span class="n">blade</span> <span class="o">=</span> <span class="n">_pBEAM</span><span class="o">.</span><span class="n">Beam</span><span class="p">(</span><span class="n">p_section</span><span class="p">,</span> <span class="n">p_loads</span><span class="p">,</span> <span class="n">p_tip</span><span class="p">,</span> <span class="n">p_base</span><span class="p">)</span>
</pre></div>
</div>
<p>The constructed blade object can now be used for various computations.  For example, the mass and the first five natural frequencies</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># compute mass and natural frequncies</span>
<span class="nb">print</span> <span class="s1">&#39;mass =&#39;</span><span class="p">,</span> <span class="n">blade</span><span class="o">.</span><span class="n">mass</span><span class="p">()</span>
<span class="nb">print</span> <span class="s1">&#39;natural freq =&#39;</span><span class="p">,</span> <span class="n">blade</span><span class="o">.</span><span class="n">naturalFrequencies</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>which result in</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mass</span> <span class="o">=</span> <span class="mf">17170.0189</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">natural</span> <span class="n">freq</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0.90910346</span>  <span class="mf">1.13977516</span>  <span class="mf">2.81855826</span>  <span class="mf">4.23836926</span>  <span class="mf">6.40037864</span><span class="p">]</span>
</pre></div>
</div>
<p><a class="pageref" href="#dy-fig">Figure  1</a> shows a plot of the blade displacement in the second principal direction generated from the following commands.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot displacement in second principal direction (approximately flapwise direction)</span>
<span class="n">disp</span> <span class="o">=</span> <span class="n">blade</span><span class="o">.</span><span class="n">displacement</span><span class="p">()</span>
<span class="n">dy</span> <span class="o">=</span> <span class="n">disp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;r (m)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$\delta y$ (m)&#39;</span><span class="p">)</span>
<span class="c1"># plt.show()</span>
</pre></div>
</div>
<div class="figure align-center" id="id3">
<span id="dy-fig"></span><a class="reference internal image-reference" href="_images/dy.png"><img alt="_images/dy.png" src="_images/dy.png" style="width: 5in;" /></a>
<p class="caption"><span class="caption-text">Figure 1: Blade deflection along span in flapwise direction.</span></p>
</div>
<p><a class="pageref" href="#strain-fig">Figure  2</a> shows a plot of the strain along the blade at the location of maximum airfoil thickness on both the pressure and suction side of the airfoil.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># evaluate strain at location of max airfoil thickness (upper and lower surface)</span>
<span class="n">xpt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.02676</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.02716</span><span class="p">,</span> <span class="mf">0.009337</span><span class="p">,</span> <span class="mf">0.009381</span><span class="p">,</span> <span class="mf">0.009428</span><span class="p">,</span> <span class="mf">0.009472</span><span class="p">,</span>
                <span class="mf">0.009515</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.02336</span><span class="p">,</span> <span class="mf">0.01155</span><span class="p">,</span> <span class="mf">0.01219</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1379</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2207</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4827</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">0.5969</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.63</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6355</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6947</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6163</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6085</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5971</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">0.5857</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5064</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4283</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3977</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3872</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3107</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2956</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">0.2811</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.212</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2087</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2012</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1864</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1791</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1669</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">0.1599</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1587</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1586</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1559</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.02725</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.02765</span><span class="p">,</span> <span class="mf">0.00883</span><span class="p">,</span>
                <span class="mf">0.008872</span><span class="p">,</span> <span class="mf">0.008916</span><span class="p">,</span> <span class="mf">0.008958</span><span class="p">,</span> <span class="mf">0.008999</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.02389</span><span class="p">,</span> <span class="mf">0.01102</span><span class="p">,</span>
                <span class="mf">0.01165</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1384</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2211</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4831</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5972</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6303</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6357</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">0.695</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6165</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6088</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5973</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5859</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5066</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4285</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">0.3979</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3874</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3108</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2957</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2813</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2121</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2088</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">0.2013</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1865</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1792</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.167</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.16</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1588</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1586</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1559</span><span class="p">])</span>
<span class="n">ypt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.63</span><span class="p">,</span> <span class="mf">1.654</span><span class="p">,</span> <span class="mf">1.686</span><span class="p">,</span> <span class="mf">1.694</span><span class="p">,</span> <span class="mf">1.702</span><span class="p">,</span> <span class="mf">1.71</span><span class="p">,</span> <span class="mf">1.718</span><span class="p">,</span> <span class="mf">1.738</span><span class="p">,</span> <span class="mf">1.773</span><span class="p">,</span> <span class="mf">1.779</span><span class="p">,</span>
                <span class="mf">1.665</span><span class="p">,</span> <span class="mf">1.465</span><span class="p">,</span> <span class="mf">1.253</span><span class="p">,</span> <span class="mf">0.9807</span><span class="p">,</span> <span class="mf">0.8931</span><span class="p">,</span> <span class="mf">0.8325</span><span class="p">,</span> <span class="mf">0.7735</span><span class="p">,</span> <span class="mf">0.7064</span><span class="p">,</span> <span class="mf">0.6822</span><span class="p">,</span>
                <span class="mf">0.6488</span><span class="p">,</span> <span class="mf">0.6125</span><span class="p">,</span> <span class="mf">0.545</span><span class="p">,</span> <span class="mf">0.4985</span><span class="p">,</span> <span class="mf">0.4701</span><span class="p">,</span> <span class="mf">0.4415</span><span class="p">,</span> <span class="mf">0.3727</span><span class="p">,</span> <span class="mf">0.354</span><span class="p">,</span>
                <span class="mf">0.3417</span><span class="p">,</span> <span class="mf">0.3047</span><span class="p">,</span> <span class="mf">0.2843</span><span class="p">,</span> <span class="mf">0.2697</span><span class="p">,</span> <span class="mf">0.2551</span><span class="p">,</span> <span class="mf">0.2419</span><span class="p">,</span> <span class="mf">0.2138</span><span class="p">,</span> <span class="mf">0.1895</span><span class="p">,</span>
                <span class="mf">0.1694</span><span class="p">,</span> <span class="mf">0.1488</span><span class="p">,</span> <span class="mf">0.1382</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.63</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.654</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.686</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.694</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.703</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">1.711</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.718</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.738</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.774</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.78</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.674</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.482</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.287</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">1.022</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.9412</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.89</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.8412</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7795</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7559</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7211</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6782</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">0.5917</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5272</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4972</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4647</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3841</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3647</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3522</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">0.3056</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2824</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2651</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2505</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2371</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.208</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1823</span><span class="p">,</span>
                <span class="o">-</span><span class="mf">0.1605</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.137</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1247</span><span class="p">])</span>
<span class="n">zpt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.501</span><span class="p">,</span> <span class="mf">1.803</span><span class="p">,</span> <span class="mf">1.902</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">2.105</span><span class="p">,</span> <span class="mf">2.203</span><span class="p">,</span> <span class="mf">2.302</span><span class="p">,</span> <span class="mf">2.868</span><span class="p">,</span> <span class="mf">3.003</span><span class="p">,</span> <span class="mf">3.102</span><span class="p">,</span>
                <span class="mf">5.607</span><span class="p">,</span> <span class="mf">7.005</span><span class="p">,</span> <span class="mf">8.34</span><span class="p">,</span> <span class="mf">10.51</span><span class="p">,</span> <span class="mf">11.76</span><span class="p">,</span> <span class="mf">13.51</span><span class="p">,</span> <span class="mf">15.86</span><span class="p">,</span> <span class="mf">18.52</span><span class="p">,</span> <span class="mf">19.97</span><span class="p">,</span>
                <span class="mf">22.02</span><span class="p">,</span> <span class="mf">24.07</span><span class="p">,</span> <span class="mf">26.12</span><span class="p">,</span> <span class="mf">28.17</span><span class="p">,</span> <span class="mf">32.28</span><span class="p">,</span> <span class="mf">33.53</span><span class="p">,</span> <span class="mf">36.39</span><span class="p">,</span> <span class="mf">38.53</span><span class="p">,</span> <span class="mf">40.49</span><span class="p">,</span>
                <span class="mf">42.54</span><span class="p">,</span> <span class="mf">43.54</span><span class="p">,</span> <span class="mf">44.59</span><span class="p">,</span> <span class="mf">46.54</span><span class="p">,</span> <span class="mf">48.7</span><span class="p">,</span> <span class="mf">52.8</span><span class="p">,</span> <span class="mf">56.22</span><span class="p">,</span> <span class="mf">58.95</span><span class="p">,</span> <span class="mf">61.69</span><span class="p">,</span>
                <span class="mf">63.06</span><span class="p">,</span> <span class="mf">1.501</span><span class="p">,</span> <span class="mf">1.803</span><span class="p">,</span> <span class="mf">1.902</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">2.105</span><span class="p">,</span> <span class="mf">2.203</span><span class="p">,</span> <span class="mf">2.302</span><span class="p">,</span> <span class="mf">2.868</span><span class="p">,</span> <span class="mf">3.003</span><span class="p">,</span>
                <span class="mf">3.102</span><span class="p">,</span> <span class="mf">5.607</span><span class="p">,</span> <span class="mf">7.005</span><span class="p">,</span> <span class="mf">8.34</span><span class="p">,</span> <span class="mf">10.51</span><span class="p">,</span> <span class="mf">11.76</span><span class="p">,</span> <span class="mf">13.51</span><span class="p">,</span> <span class="mf">15.86</span><span class="p">,</span> <span class="mf">18.52</span><span class="p">,</span>
                <span class="mf">19.97</span><span class="p">,</span> <span class="mf">22.02</span><span class="p">,</span> <span class="mf">24.07</span><span class="p">,</span> <span class="mf">26.12</span><span class="p">,</span> <span class="mf">28.17</span><span class="p">,</span> <span class="mf">32.28</span><span class="p">,</span> <span class="mf">33.53</span><span class="p">,</span> <span class="mf">36.39</span><span class="p">,</span> <span class="mf">38.53</span><span class="p">,</span>
                <span class="mf">40.49</span><span class="p">,</span> <span class="mf">42.54</span><span class="p">,</span> <span class="mf">43.54</span><span class="p">,</span> <span class="mf">44.59</span><span class="p">,</span> <span class="mf">46.54</span><span class="p">,</span> <span class="mf">48.7</span><span class="p">,</span> <span class="mf">52.8</span><span class="p">,</span> <span class="mf">56.22</span><span class="p">,</span> <span class="mf">58.95</span><span class="p">,</span>
                <span class="mf">61.69</span><span class="p">,</span> <span class="mf">63.06</span><span class="p">])</span>

<span class="n">strain</span> <span class="o">=</span> <span class="n">blade</span><span class="o">.</span><span class="n">axialStrain</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xpt</span><span class="p">),</span> <span class="n">xpt</span><span class="p">,</span> <span class="n">ypt</span><span class="p">,</span> <span class="n">zpt</span><span class="p">)</span>
<span class="n">nstrain</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">strain</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">strain</span><span class="p">[:</span><span class="n">nstrain</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;suction side&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">strain</span><span class="p">[</span><span class="n">nstrain</span><span class="p">:],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;pressure side&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;r (m)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$\epsilon$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">63.0</span><span class="p">])</span>
<span class="c1"># plt.show()</span>
</pre></div>
</div>
<div class="figure align-center" id="id4">
<span id="strain-fig"></span><a class="reference internal image-reference" href="_images/strain.png"><img alt="_images/strain.png" src="_images/strain.png" style="width: 5in;" /></a>
<p class="caption"><span class="caption-text">Figure 2: Strain along span at location of maximum airfoil thickness.</span></p>
</div>
</div>
<div class="section" id="cylindrical-shell-sections">
<h2>3.2. Cylindrical Shell Sections<a class="headerlink" href="#cylindrical-shell-sections" title="Permalink to this headline">¶</a></h2>
<p>This example simulates the tower from the NREL 5-MW reference model in pBEAM. First, the relevant modules are imported</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="k">import</span> <span class="n">pi</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">import</span> <span class="nn">_pBEAM</span>

</pre></div>
</div>
<p>The basic tower geometry is defined</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="c1"># tower geometry defintion</span>
<span class="n">z0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">73.8</span><span class="p">,</span> <span class="mf">117.6</span><span class="p">]</span>             <span class="c1"># heights starting from bottom (m)</span>
<span class="n">d0</span> <span class="o">=</span> <span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">4.935</span><span class="p">,</span> <span class="mf">3.87</span><span class="p">]</span>            <span class="c1"># corresponding diameters (m)</span>
<span class="n">t0</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0351</span><span class="p">,</span> <span class="mf">0.0351</span><span class="p">,</span> <span class="mf">0.0299</span><span class="p">,</span> <span class="mf">0.0247</span><span class="p">]</span>   <span class="c1"># corresponding shell thicknesses (m)</span>
<span class="n">n0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>                          <span class="c1"># number of finite elements per section</span>

</pre></div>
</div>
<p>and then discretized so that it is defined at the end of every element (for convenience, a discretized definition could be supplied up front).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="c1"># discretize</span>
<span class="n">nodes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">n0</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># C++ interface requires int</span>

<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span>
<span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">n0</span><span class="p">)):</span>
    <span class="n">z</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">start</span><span class="o">+</span><span class="n">n0</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">z0</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">z0</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">n0</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">start</span> <span class="o">+=</span> <span class="n">n0</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">z0</span><span class="p">,</span> <span class="n">d0</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">z0</span><span class="p">,</span> <span class="n">t0</span><span class="p">)</span>

</pre></div>
</div>
<p>The cylindrical shell model only allows for isotropic <a class="reference internal" href="documentation.html#material-label"><span class="std std-ref">material properties</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># material properties</span>

<span class="n">E</span> <span class="o">=</span> <span class="mf">210e9</span>               <span class="c1"># elastic modulus (Pa)</span>
<span class="n">G</span> <span class="o">=</span> <span class="mf">80.8e9</span>              <span class="c1"># shear modulus (Pa)</span>
<span class="n">rho</span> <span class="o">=</span> <span class="mf">8500.0</span>            <span class="c1"># material density (kg/m^3)</span>

<span class="n">material</span> <span class="o">=</span> <span class="n">_pBEAM</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">E</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">rho</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="documentation.html#loads-distributed-label"><span class="std std-ref">Distributed loads</span></a> in this example come from wind loading and the tower’s weight.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># distributed loads</span>

<span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span>  <span class="c1"># gravity</span>

<span class="c1"># wind loading in x-direction</span>
<span class="n">Px</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">133.18</span><span class="p">,</span> <span class="mf">167.41</span><span class="p">,</span> <span class="mf">191.71</span><span class="p">,</span> <span class="mf">211.09</span><span class="p">,</span> <span class="mf">227.42</span><span class="p">,</span> <span class="mf">236.04</span><span class="p">,</span> <span class="mf">240.30</span><span class="p">,</span>
               <span class="mf">241.36</span><span class="p">,</span> <span class="mf">239.92</span><span class="p">,</span> <span class="mf">236.47</span><span class="p">,</span> <span class="mf">231.37</span><span class="p">,</span> <span class="mf">224.95</span><span class="p">,</span> <span class="mf">217.64</span><span class="p">,</span> <span class="mf">209.33</span><span class="p">,</span> <span class="mf">200.16</span><span class="p">])</span>
<span class="n">Py</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">Px</span><span class="p">)</span>
<span class="n">Pz</span> <span class="o">=</span> <span class="o">-</span><span class="n">rho</span><span class="o">*</span><span class="n">g</span><span class="o">*</span><span class="p">(</span><span class="n">pi</span><span class="o">*</span><span class="n">d</span><span class="o">*</span><span class="n">t</span><span class="p">)</span>  <span class="c1"># self-weight</span>


<span class="n">loads</span> <span class="o">=</span> <span class="n">_pBEAM</span><span class="o">.</span><span class="n">Loads</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">Px</span><span class="p">,</span> <span class="n">Py</span><span class="p">,</span> <span class="n">Pz</span><span class="p">)</span>
</pre></div>
</div>
<p>Contributions from the rotor-nacelle-assembly (RNA) include mass, moments of inertia, and transfered forces/moments.  These are added using the <a class="reference internal" href="documentation.html#tip-label"><span class="std std-ref">TipData</span></a> class.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># RNA contribution</span>

<span class="n">m</span> <span class="o">=</span> <span class="mf">300000.0</span>  <span class="c1"># mass</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>  <span class="c1"># center of mass relative to tip</span>
<span class="n">I</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2960437.0</span><span class="p">,</span> <span class="mf">3253223.0</span><span class="p">,</span> <span class="mf">3264220.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">18400.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>  <span class="c1"># moments of inertia</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">750000.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="n">m</span><span class="o">*</span><span class="n">g</span><span class="p">])</span>  <span class="c1"># force</span>
<span class="n">M</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>  <span class="c1"># moment</span>

<span class="n">tip</span> <span class="o">=</span> <span class="n">_pBEAM</span><span class="o">.</span><span class="n">TipData</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">cm</span><span class="p">,</span> <span class="n">I</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>
</pre></div>
</div>
<p>The base of the tower is assumed to be rigidly mounted in this example.  This corresponds to <a class="reference internal" href="documentation.html#base-label"><span class="std std-ref">BaseData</span></a> being initialized with infinite stiffness in all directions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># rigid base</span>

<span class="n">inf</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
<span class="n">k</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">inf</span><span class="p">]</span><span class="o">*</span><span class="mi">6</span><span class="p">)</span>

<span class="n">base</span> <span class="o">=</span> <span class="n">_pBEAM</span><span class="o">.</span><span class="n">BaseData</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">inf</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, the tower object is created using the <a class="reference internal" href="documentation.html#beam-tower-label"><span class="std std-ref">cylindrical shell constructor</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create tower object</span>

<span class="n">tower</span> <span class="o">=</span> <span class="n">_pBEAM</span><span class="o">.</span><span class="n">Beam</span><span class="p">(</span><span class="n">nodes</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">loads</span><span class="p">,</span> <span class="n">material</span><span class="p">,</span> <span class="n">tip</span><span class="p">,</span> <span class="n">base</span><span class="p">)</span>
</pre></div>
</div>
<p>Relevant properties can now be computed from this object in the same manner as in the previous example.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">3. Tutorial</a><ul>
<li><a class="reference internal" href="#linear-variation">3.1. Linear Variation</a></li>
<li><a class="reference internal" href="#cylindrical-shell-sections">3.2. Cylindrical Shell Sections</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">2. Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="documentation.html"
                        title="next chapter">4. Module Documentation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/tutorial.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="documentation.html" title="4. Module Documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="2. Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pBEAM 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013, NREL.
      Last updated on Apr 08, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>